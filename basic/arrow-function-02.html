<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <title>JS study</title>
  </head>
  <body>
    <script>
      const emails = ["aaa@hanmail.net", "bbb@gmail.com", "ccc@naver.com", "ddd@gmail.com"];
      // arrow function 의 활용
      
      // 1. Array.prototype.find()
      // 제공되는 테스트 조건을 만족하는 첫번째 엘리먼트 값을 리턴하는 메서드
      const foundGmail = emails.find( item => item.includes("gmail.com") );
      console.log(foundGmail);
      // cf. .includes() 은 boolean값을 반환 = true or false

      // 2. Array.prototype.filter()
      // 제공되는 함수의 조건을 만족한 모든 엘리먼트로 새로운 array를 생성
      const deleteGmail = emails.filter( item => !item.includes("gmail.com") );
      console.log(deleteGmail);

      // 3. Array.prototype.forEach() 
      // 각 array의 엘리먼트마다 제공된 함수를 실행
      const username = [];
      emails.forEach( item => {
        username.push(item.split("@")[0]);
      })
      // cf. split() 은 구분자를 기준으로 나눠서 array에 넣어줌
      console.log(username);

      // forEach vs. map
      // map 은 forEach 지만 반환된 element 들로 새로운 array를 만들어줌
      // (forEach 와 동일하지만 더 보기 편함)
      const usernameMap = emails.map( item => item.split("@")[0] );
      console.log(usernameMap);

      // 4. 값이 아니라 object 를 return 하고 싶을 때
      // => {} 하면 implicit return 역할을 잃어서 return 역할을 못함
      // => ( {} ) 이런 식으로 ()괄호로 묶어줌으로써 object 를 return 할 수 있음
      const returnObj = emails.map( (item, index) => ({
        username: item.split("@")[0],
        index: index
      }) );
      console.log(returnObj);
      console.table(returnObj);

    </script>
  </body>
</html>
