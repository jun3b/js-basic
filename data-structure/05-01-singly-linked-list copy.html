<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <title>JS study</title>
  </head>
  <body>
    <script>
      // 링크드 리스트 만들기
      class Node {
        constructor(val) {
          this.val = val;
          this.next = null;
          // 처음에는 다음 노드가 없기 때문에 this.next = null;
        }
      }

      class SinglyLinkedList {
        constructor(){
          this.head = null;
          this.tail = null;
          this.length = 0;
        }

        // 1. push 메소드 구현하기 -> 새로운 노드를 맨 마지막에 삽입
        push(val) {
          var newNode = new Node(val);
          // 비어있는 리스트에 처음 노드를 삽입하면 헤드와 테일이 모두 그 첫번째 노드를 가리킴
          if(!this.head) {
            this.head = newNode;
            this.tail = this.head;
          } else {
          // 기존의 리스트에 새로운 노드를 삽입하면 맨 마지막의 tail에 새로운 노드를 삽입하고 tail이 이동함 
            this.tail.next = newNode;
            this.tail = newNode;
          }
          this.length++;
          return this;
        }

        // 2. pop 메소드 구현하기 -> 링크드 리스트의 맨 마지막 노드 제거
        pop() {
          // 리스트에 노드가 없을 경우 undefined 반환
          if(!this.head) return undefined;
          // 마지막 노드를 제거하기 위해서는 첫번째 노드부터 마지막 노드까지 이동해야함
          var current = this.head;
          var newTail = current;
          while(current.next) {
            // 리스트에 무언가가 남겨져 있는 한 while로 계속 반복
            newTail = current;
            current = current.next;
          }
          // console.log(current.val);
          // console.log(newTail.val);
          // 마지막 노드 이전의 노드가 tail 이 되고 기존의 마지막 노드는 null
          this.tail = newTail;
          this.tail.next = null;
          this.length--;
          // 리스트에 있는 노드를 전부 삭제했으면 리스트가 비어있어야 함
          if(this.length === 0) {
            this.head = null;
            this.tail = null;
          }
          return current;
        }
      }
      var list = new SinglyLinkedList();
      list.push("Hello");
      list.push("Goodbye");
      list.push("!");

    </script>
    </div>
  </body>
</html>
